<!DOCTYPE html>
<html>
<head>
    <title>Pre Cadastro</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

    <link rel="icon" href="images/favicn.ico" type="image/x-icon">
    <link rel="manifest" href="https://www.receitanet.net/assets/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
</head>
<body style="margin-top: 60px;">
<div class="rn-forms">
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                                <a class="navbar-brand" href="#">Pre Cadastro</a>
            </div>
        </div>
    </nav>
    <div class="container">
                <link rel="stylesheet" href="https://sistema.receitanet.net/novo//css/bootstrap-crm.css?id=70e1400d93ba9f1061f5">
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
<style>
    * {
        font-family: 'Roboto', sans-serif;
    }

    body {
        background-color: #D1E0FE;
    }

    label {
        font-weight: normal !important;
    }

    .required {
        font-weight: 400;
        color: red;
    }
</style>
<form id="receitanetForms" action="https://sistema.receitanet.net/novo/crm/formulario/1832" method="post">
  <input type="hidden" name="_token" value="FtSMNRMG83opL2DG86YJqcIGzkZDglDZUi4HWkCX">      <div class="row">
          <div class="col-sm-12">
        <h3>Dados Cadastrais</h3>
      </div>
              <div class="col-sm-6">
          <div class="form-group ">
            <label for="nome">Nome  <span class="required">*</span>             </label>
            <input type="text" class="form-control" name="nome" value="" id="nome"
                    required >
                      </div>
        </div>
                    <div class="col-sm-6">
          <div class="form-group ">
            <label for="cpfcnpj">CPF/CNPJ  <span
                  class="required">*</span> </label>
            <input type="text" class="form-control" name="cpfcnpj" value="" id="cpfcnpj"
                    required >
                      </div>
        </div>
      
              <div class="col-sm-6">
          <div class="form-group ">
            <label for="rgie">RG/IE  <span class="required">*</span>             </label>
            <input type="text" class="form-control" name="rgie" value="" id="rgie"
                    required >
                      </div>
        </div>
                    <div class="col-sm-6">
          <div class="form-group ">
            <label for="datanascimento">Data de Nascimento  <span
                  class="required">*</span> </label>
            <input type="date" class="form-control" name="datanascimento" value=""
                   id="datanascimento"  required >
                      </div>
        </div>
      
              <div class="col-sm-6">
          <div class="form-group ">
            <label for="email">Email  <span class="required">*</span>             </label>
            <input type="email" class="form-control" name="email" value="" id="email"
                   maxlength="80"  required >
                      </div>
        </div>
                    <div class="col-sm-6">
          <div class="form-group ">
            <label for="telefone1">Telefone 1  <span
                  class="required">*</span> </label>
            <input type="text" class="form-control" name="telefone1" value=""
                   id="telefone1" maxlength="14"  required >
                      </div>
        </div>
      
              <div class="col-sm-6">
          <div class="form-group ">
            <label for="telefone2">Telefone 2 </label>
            <input type="text" class="form-control" name="telefone2" value=""
                   id="telefone2" maxlength="14" >
                      </div>
        </div>
                    <div class="col-sm-6">
          <div class="form-group ">
            <label for="telefone3">Telefone 3 </label>
            <input type="text" class="form-control" name="telefone3" value=""
                   id="telefone3" maxlength="14" >
                      </div>
        </div>
          

          <div class="col-sm-12">
        <h3>Endereço</h3>
      </div>

              <div class="col-sm-12">
          <div class="form-group ">
            <label for="cep">CEP  <span class="required">*</span>             </label>
            <input type="text" class="form-control" name="cep" value="" id="cep"
                   maxlength="9"  required >
                      </div>
        </div>
      
              <div class="col-sm-6">
          <div class="form-group ">
            <label for="endereco">Endereço  <span
                  class="required">*</span> </label>
            <input type="text" class="form-control" name="endereco" value=""
                   id="endereco" maxlength="80"  required >
                      </div>
        </div>
                    <div class="col-sm-6">
          <div class="form-group ">
            <label for="numero">Número  <span
                  class="required">*</span> </label>
            <input type="text" class="form-control" name="numero" value="" id="numero"
                   maxlength="10"  required >
                      </div>
        </div>
      
              <div class="col-sm-6">
          <div class="form-group ">
            <label for="complemento">Complemento </label>
            <input type="text" class="form-control" name="complemento" value=""
                   id="complemento" maxlength="80" >
                      </div>
        </div>
                    <div class="col-sm-6">
          <div class="form-group ">
            <label for="referencia">Referência </label>
            <input type="text" class="form-control" name="referencia" value=""
                   id="referencia" maxlength="80" >
                      </div>
        </div>
      
              <div class="col-sm-6">
          <div class="form-group ">
            <label for="bairro">Bairro  <span
                  class="required">*</span> </label>
            <input type="text" class="form-control" name="bairro" value="" id="bairro"
                   maxlength="50"  required >
                      </div>
        </div>
                    <div class="col-sm-6">
          <div class="form-group ">
            <label for="cidade">Cidade  <span
                  class="required">*</span> </label>
            <input type="text" class="form-control" name="cidade" value="" id="cidade"
                   maxlength="80"  required >
                      </div>
        </div>
      
              <div class="col-sm-6">
          <div class="form-group ">
            <label for="uf">UF  <span class="required">*</span> </label>
            <select name="uf" id="uf" class="form-control"  required >
              <option value="AC" >AC</option>
              <option value="AL" >AL</option>
              <option value="AM" >AM</option>
              <option value="AP" >AP</option>
              <option value="BA" >BA</option>
              <option value="CE" >CE</option>
              <option value="DF" >DF</option>
              <option value="ES" >ES</option>
              <option value="GO" >GO</option>
              <option value="MA" >MA</option>
              <option value="MT" >MT</option>
              <option value="MS" >MS</option>
              <option value="MG" >MG</option>
              <option value="PA" >PA</option>
              <option value="PB" >PB</option>
              <option value="PR" >PR</option>
              <option value="PE" >PE</option>
              <option value="PI" >PI</option>
              <option value="RJ" >RJ</option>
              <option value="RN" >RN</option>
              <option value="RS" >RS</option>
              <option value="RO" >RO</option>
              <option value="RR" >RR</option>
              <option value="SC" >SC</option>
              <option value="SP" >SP</option>
              <option value="SE" >SE</option>
              <option value="TO" >TO</option>
            </select>
                      </div>
        </div>
      

      
              <div class="col-sm-12">
          <div class="form-group ">
            <label for="observacaocliente">Observação </label>
            <textarea name="observacaocliente" id="observacaocliente" class="form-control" rows="4"
                      style="height: 95px;"
                      ></textarea>
                      </div>
        </div>
          
    
    <div class="col-sm-12">
      <button type="submit" class="btn btn-primary">Gravar</button>
    </div>
  </div>
</form>

        <div class="clearfix"></div>
        <p style="margin-top: 15px;"><strong>Copyright © 2023</strong> ReceitaNet. Todos os direitos
            reservados.</p>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
<script>
var CGCMaskBehavior = function(val) {
  return val.replace(/\D/g, '').length <= 11 ? '000.000.000-009' : '00.000.000/0000-00';
}
$('[name="cpfcnpj"]').mask(CGCMaskBehavior, {
  onKeyPress: function(val, e, field, options) {
    field.mask(CGCMaskBehavior.apply({}, arguments), options);
  }
});

$('[name="cpfcnpj"]').on('blur', function() {
  let cpfcnpj = $(this).val().replace(/[^\d]+/g, '')
  let inputCpfCnpj = this
  inputCpfCnpj.setCustomValidity('');

  if (cpfcnpj.length == 11) {
    let Soma = 0,
        Resto;
    let cpf = cpfcnpj
    if (cpf == '' || cpf == "00000000000" || cpf == "11111111111" || cpf == "22222222222" || cpf == "33333333333" || cpf == "44444444444" || cpf == "55555555555" || cpf == "66666666666" || cpf == "77777777777" || cpf == "88888888888" || cpf == "99999999999") {
      alert('CPF Inválido');
      inputCpfCnpj.setCustomValidity('CPF Inválido');
      $('[name="cli_tipo"]').val('')
      return false
    }
    for (i = 1; i <= 9; i++) {
      Soma = Soma + parseInt(cpf.substring(i - 1, i)) * (11 - i);
    }
    Resto = Soma % 11;

    if ((Resto == 0) || (Resto == 1)){
      Resto = 0;
    } else {
      Resto = 11 - Resto;
    }

    if (Resto != parseInt(cpf.substring(9, 10))) {
      alert('CPF Inválido');
      inputCpfCnpj.setCustomValidity('CPF Inválido');
      $('[name="cli_tipo"]').val('')
      return false
    }

    Soma = 0;
    for (i = 1; i <= 10; i++) {
      Soma = Soma + parseInt(cpf.substring(i - 1, i)) * (12 - i);
    }
    Resto = Soma % 11;

    if ((Resto == 0) || (Resto == 1)) {
      Resto = 0;
    } else {
      Resto = 11 - Resto;
    }

    if (Resto != parseInt(cpf.substring(10, 11))) {
      alert('CPF Inválido');
      inputCpfCnpj.setCustomValidity('CPF Inválido');
      $('[name="cli_tipo"]').val('')
      return false
    }

    $('[name="cli_tipo"]').val(1)
  } else if (cpfcnpj.length == 14) {
    // CNPJ
    let cnpj = cpfcnpj
    if (cnpj == '' || cnpj == "00000000000000" || cnpj == "11111111111111" || cnpj == "22222222222222" || cnpj == "33333333333333" || cnpj == "44444444444444" || cnpj == "55555555555555" || cnpj == "66666666666666" || cnpj == "77777777777777" || cnpj == "88888888888888" || cnpj == "99999999999999") {
      alert('CNPJ Inválido');
      inputCpfCnpj.setCustomValidity('CNPJ Inválido');
      $('[name="cli_tipo"]').val('')
      return false
    }

    tamanho = cnpj.length - 2
    numeros = cnpj.substring(0, tamanho);
    digitos = cnpj.substring(tamanho);
    soma = 0;
    pos = tamanho - 7;
    for (i = tamanho; i >= 1; i--) {
      soma += numeros.charAt(tamanho - i) * pos--;
      if (pos < 2) pos = 9;
    }
    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
    if (resultado != digitos.charAt(0)) {
      alert('CNPJ Inválido');
      inputCpfCnpj.setCustomValidity('CNPJ Inválido');
      $('[name="cli_tipo"]').val('')
      return false
    }

    tamanho = tamanho + 1;
    numeros = cnpj.substring(0, tamanho);
    soma = 0;
    pos = tamanho - 7;
    for (i = tamanho; i >= 1; i--) {
      soma += numeros.charAt(tamanho - i) * pos--;
      if (pos < 2) {
        pos = 9;
      }
    }
    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
    if (resultado != digitos.charAt(1)) {
      alert('CNPJ Inválido');
      inputCpfCnpj.setCustomValidity('CNPJ Inválido');
      $('[name="cli_tipo"]').val('')
      return false
    }

    $('[name="cli_tipo"]').val()
  } else {
    alert('CPF/CNPJ Inválido');
    inputCpfCnpj.setCustomValidity('CPF/CNPJ Inválido');
    $('[name="cli_tipo"]').val('')
    return false
  }
})

var FoneMaskBehavior = function(val) {
  return val.replace(/\D/g, '').length <= 10 ? '(00)0000-00009' : '(00)00000-0000';
}
let foneOptions = {
  onKeyPress: function(val, e, field, options) {
    field.mask(FoneMaskBehavior.apply({}, arguments), options);
  }
};
$('[name="telefone1"]').mask(FoneMaskBehavior, foneOptions);
$('[name="telefone2"]').mask(FoneMaskBehavior, foneOptions);
$('[name="telefone3"]').mask(FoneMaskBehavior, foneOptions);

$('[name="cep"]').mask('00000-000');
$('[name="cep"]').on('input', function() {
  if (/[0-9]{5}-[0-9]{3}/.test($(this).val())) {
    $.ajax({
      url: 'https://sistema.receitanet.net/api/novo/cep/99999'.replace(99999, $(this).val()),
      success: function(data) {
        $('[name="endereco"]').val(data.logradouro)
        $('[name="bairro"]').val(data.bairro)
        $('[name="cidade"]').val(data.cidade)
        $('[name="uf"]').val(data.uf)
        $('[name="numero"]').focus()
      }
    })
  }
})
</script>
<script>
    $('form').submit(function () {
        $('#receitanetForms button').prop('disabled', true)
    })
</script>
</body>
</html>